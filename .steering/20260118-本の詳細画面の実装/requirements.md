# 本の詳細画面

## 概要

特定の本の情報と戦闘履歴を確認し、編集・削除・再戦などのアクションを行える画面を実装する。

## 背景

- ホーム画面で本一覧が表示されるようになった
- 各本の詳細情報や戦闘履歴を確認する導線が必要
- 本の編集・削除・再戦といった管理機能が求められている

## 要件

### 機能要件

#### 表示機能

- [ ] 本の基本情報を表示（書影、タイトル、総ページ数、現在ページ、進捗バー）
- [ ] ステータスを表示（戦闘中 / 討伐済み）
- [ ] スキルタグを表示
- [ ] 周回数を表示（2周目以降のみ）
- [ ] 戦闘ログ一覧を表示（日時、読んだページ数、メモ）
- [ ] 戦闘ログは最新20件を表示、ページネーションで過去ログを辿れる

#### アクション機能

- [ ] 戦闘ボタン: 戦闘画面への遷移（戦闘画面は今回スコープ外）
- [ ] 再戦ボタン（討伐済みの場合のみ）: 進捗リセット、周回数+1、ログは保持
- [ ] 編集ボタン: タイトル、総ページ数、スキルを編集可能
- [ ] 削除ボタン: ソフトデリート（archived状態に変更）

### 非機能要件

- 既存のビジュアルデザイン仕様（DQウィンドウ風）に準拠
- モバイルファーストのレスポンシブ対応

## 受け入れ条件

- [ ] ホーム画面から本カードをタップして詳細画面に遷移できる
- [ ] 本の情報と戦闘ログが正しく表示される
- [ ] 編集機能でタイトル・総ページ数・スキルが更新できる
- [ ] 削除すると本がarchived状態になり一覧から消える
- [ ] 討伐済みの本で再戦すると進捗がリセットされ周回数が増える
- [ ] 全テスト・lint・typecheck・formatがパスする

## 対象外（スコープ外）

- 戦闘画面の実装（別機能として実装予定）
- 戦闘ログの作成（戦闘画面で行う）
- archived状態の本の復元機能

## 参考ドキュメント

- [planning/screen-design.md](../../planning/screen-design.md) - 画面設計
- [planning/data-design.md](../../planning/data-design.md) - データ設計
- [planning/visual-design.md](../../planning/visual-design.md) - ビジュアルデザイン仕様
- [docs/CONTEXT.md](../../docs/CONTEXT.md) - 議論ログ
