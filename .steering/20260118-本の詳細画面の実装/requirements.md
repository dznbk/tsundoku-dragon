# 本の詳細画面の実装

## 概要

本（ドラゴン）の詳細情報と戦闘履歴を表示し、編集・削除・再戦などのアクションを提供する画面を実装する。

## 背景

- ユーザーが特定の本の詳細情報や戦闘履歴を確認したい
- 読書の振り返りができる場所が必要
- 本の情報を編集・削除する機能が必要
- 討伐済みの本を再読する機能が必要

## 要件

### 機能要件

#### 本の情報表示

- [ ] 書影（ISBNから取得、なければデフォルト画像）
- [ ] タイトル
- [ ] 総ページ数
- [ ] 現在の進捗（currentPage / totalPages）
- [ ] ステータス（戦闘中 / 討伐済み）
- [ ] スキルタグ
- [ ] 周回数（2周目以降のみ表示）

#### 戦闘ログ一覧

- [ ] 日時・読んだページ数・メモを1行で表示
- [ ] 最新20件を表示
- [ ] ページネーションで過去ログを辿れる

#### アクション

- [ ] 戦闘ボタン → 戦闘画面へ遷移
- [ ] 再戦ボタン（討伐済みの場合）→ 進捗リセット、周回数+1
- [ ] 編集ボタン → 本の情報を編集（モーダル）
- [ ] 削除ボタン → ソフトデリート（archived状態に変更）

#### 編集可能項目

| 項目       | 編集 | 備考                     |
| ---------- | ---- | ------------------------ |
| タイトル   | ○    |                          |
| 総ページ数 | ○    |                          |
| スキル     | ○    | 追加・削除可能           |
| ISBN       | ×    | 本の識別子なので変更不可 |
| 現在ページ | ×    | 戦闘（読書記録）で更新   |

### 非機能要件

- 認証必須（既存の認証システムを使用）
- 他ユーザーの本は参照不可

## 受け入れ条件

- [ ] ホーム画面の本カードをクリックすると詳細画面に遷移する
- [ ] 戦闘ログが時系列で表示される
- [ ] 本の編集が正常に動作する
- [ ] 本の削除（アーカイブ）が正常に動作する
- [ ] 討伐済みの本で再戦ができる
- [ ] 全てのテストがパスする

## 対象外（スコープ外）

- 戦闘画面の実装（別Issue）
- 戦闘ログの作成（別Issue）
- ログの全文検索機能

## 参考ドキュメント

- [planning/screen-design.md](../../../planning/screen-design.md) - 画面設計
- [planning/data-design.md](../../../planning/data-design.md) - データ設計
- [GitHub Issue #49](https://github.com/dznbk/tsundoku-dragon/issues/49)
