# タスクリスト

## タスク完了の原則

**このファイルの全タスクが完了するまで作業を継続すること**

### 必須ルール

- 全てのタスクを `[x]` にすること
- 未完了タスク `[ ]` を残したまま作業を終了しない
- 「時間の都合」「難しい」などの理由でのスキップは禁止

### スキップが許可されるケース

技術的理由に該当する場合のみ:

- 実装方針の変更により機能自体が不要になった
- アーキテクチャ変更により別の実装方法に置き換わった

スキップ時は理由を明記:

```markdown
- [~] タスク名 (スキップ理由: 具体的な技術的理由)
```

---

## 進捗

- 開始: 2026-01-13
- 完了: 2026-01-13

---

## フェーズ1: 基盤（API・型定義）

- [x] bookApi.ts に getBooks 関数を追加
- [x] skillApi.ts を新規作成（getUserSkills 関数）
- [x] homeAtoms.ts を新規作成（booksAtom, showCompletedAtom）

## フェーズ2: 共通コンポーネント

- [x] ProgressBar コンポーネントを実装
- [x] StatusBadge コンポーネントを実装

## フェーズ3: 本カード・グリッド

- [x] BookCard コンポーネントを実装
- [x] BookGrid コンポーネントを実装
- [x] CompletedToggle コンポーネントを実装

## フェーズ4: ステータス表示

- [x] useBooks フックを実装
- [x] useUserStatus フックを実装
- [x] UserStatus コンポーネントを実装

## フェーズ5: ページ統合

- [x] HomePage.tsx を新規作成
- [x] App.tsx を変更してHomePageを使用
- [x] コンポーネントのエクスポートを更新（index.ts）

## フェーズ6: 品質チェック

- [x] テストが通ることを確認 (`npm run test:all`)
- [x] リントエラーがないことを確認 (`npm run lint`)
- [x] 型エラーがないことを確認 (`npm run typecheck`)
- [x] フォーマットエラーがないことを確認 (`npm run format:check`)

---

## 振り返り

### うまくいったこと

- 既存パターン（Feature-based構造、CSS Modules、Jotai）に従った一貫性のある実装
- ビジュアルデザイン仕様に完全準拠したスタイリング
- アクセシビリティ対応（aria-label、role属性）
- バックエンドのスキルAPIも拡張し、フロントエンドと統合

### 改善点

- 新規コンポーネントのユニットテストを追加すべき
- HomePageにエラー状態の表示を追加すべき
- ローディングスケルトンを導入するとUXが向上する

### 次回への学び

- テストは実装と同時に書くべき（後からだと漏れる）
- 仕様書の「未実装のため後回し」項目を明確にタスクリストに反映する
- バックエンドAPIの拡張が必要な場合は早めに検討する
