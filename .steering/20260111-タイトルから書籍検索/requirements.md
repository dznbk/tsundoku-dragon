# タイトルから書籍検索

## 概要

本の登録画面でタイトルを入力するとNDL OpenSearch APIで書籍を検索し、候補から選択して自動入力できる機能を追加する。

## 背景

- 現在の本の登録画面はISBN入力でのみ書籍情報を自動取得できる
- 物理本: 裏表紙を見てISBNを確認する手間がある
- 電子書籍: 購入サイトでISBNを探す手間がある
- どちらも登録のハードルになっている

## 要件

### 機能要件

- [ ] タイトル入力欄でインクリメンタル検索ができる（debounce付き）
- [ ] 検索結果をドロップダウンで候補表示する
- [ ] 候補には書籍タイトル、著者名、ページ数を表示する
- [ ] 候補を選択するとISBN・ページ数・書影が自動入力される
- [ ] 既存のISBN入力による自動取得機能は維持する
- [ ] 検索結果から書籍以外の資料（映像、音声等）をフィルタリングする

### 非機能要件

- debounceは500ms（既存のISBN検索と同様）
- 検索結果は最大10件に制限（パフォーマンスとUX考慮）
- ネットワークエラー時は静かに失敗（検索候補が表示されないだけ）

## 受け入れ条件

- [ ] タイトル入力時にNDL APIで検索が実行される
- [ ] 検索候補がドロップダウンで表示される
- [ ] 候補選択でISBN・ページ数・書影が自動入力される
- [ ] ISBN入力による既存機能が引き続き動作する
- [ ] キーボード操作（↑↓Enter）で候補選択できる
- [ ] 全テスト・リント・型チェックが通る

## 対象外（スコープ外）

- 検索履歴の保存
- オフライン対応
- 複数APIソースの統合（openBD等）
- バックエンドでの検索プロキシ（CORSはNDL APIが許可済み）

## 参考ドキュメント

- [GitHub Issue #19](https://github.com/dznbk/tsundoku-dragon/issues/19)
- [planning/screen-design.md](../../../planning/screen-design.md)
- [NDL OpenSearch API](https://ndlsearch.ndl.go.jp/api/opensearch?title=検索語)
