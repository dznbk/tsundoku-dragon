# 経験値・レベルシステム

## 概要

読書の進捗に応じて経験値を獲得し、スキルのレベルが上がるシステム。
ゲーム性より読書の補助を優先し、シンプルな設計とする。

---

## 経験値獲得

### 基本経験値
- **1ページ = 1経験値**

### 討伐ボーナス
- 本を読了（HP=0）したら、**ページ数の10%**をボーナス経験値として獲得
- 端数切り捨て
- 例：350ページの本 → 35ボーナス経験値

### 複数スキルへの分配
- 本に複数スキルが紐づいている場合、**各スキルに同じ経験値を付与**
- 分割しない
- 例：30ページ読了、スキル「DB」「設計」の場合 → 両方に30exp

### 再読ボーナス
- **なし**（同じ経験値）
- 理由：シンプルさを優先。再読のインセンティブは「復習による学習効果」自体で十分

---

## レベルアップ

### 必要経験値計算式

```
必要経験値 = floor(Lv^1.5 × 50)
```

- `floor` = 端数切り捨て
- 累乗式により、序盤はサクサク上がり、後半はじわじわ重くなる

### レベル上限
- **9999**
- 理由：学習に終わりはないため、実質無制限に近い上限を設定

### 必要経験値テーブル（参考）

| レベル | 必要経験値 | 累計経験値 | 目安（本の冊数） |
|--------|-----------|-----------|-----------------|
| 1→2 | 50 | 50 | 薄い本1冊 |
| 2→3 | 141 | 191 | |
| 3→4 | 259 | 450 | |
| 4→5 | 400 | 850 | |
| 5→6 | 559 | 1,409 | 300P本4-5冊 |
| 10→11 | 1,581 | 6,065 | 300P本20冊 |
| 20→21 | 4,472 | 30,983 | 300P本100冊 |
| 50→51 | 17,677 | 253,547 | 300P本800冊 |
| 100→101 | 50,000 | 1,666,500 | |

※討伐ボーナス込みで計算すると、実際はもう少し早く上がる

---

## 設計理由

### なぜシンプルな計算式か
- **目的は読書の補助**であり、ゲームをしたいわけではない
- 複雑すぎるとアプリ制作に時間がかかり本末転倒
- 拡張（クリティカルヒット、難易度係数など）は将来の検討事項

### なぜ累乗式（Lv^1.5）か
- 線形（Lv×100）だと単調で達成感の波がない
- 序盤はサクサク上がることでモチベーション維持
- 後半は重くなるが、急激すぎない曲線

### なぜ複数スキルに同じ経験値か
- 分割すると「スキルを1つにした方が効率的」というインセンティブが生まれる
- 本の内容を正直にタグ付けしてほしいので、分割しない

---

## 計算例

### 例1：350ページのDB本を読了

**本の設定：**
- タイトル：データベース設計入門
- ページ数：350
- スキル：DB, 設計

**経験値獲得：**
- 読書経験値：350
- 討伐ボーナス：35（350 × 10%）
- 合計：385

**スキルへの付与：**
- DBスキル：+385exp
- 設計スキル：+385exp

### 例2：途中まで読んだ場合

**今日30ページ読んだ（累計150/350ページ）：**
- 読書経験値：30
- 討伐ボーナス：なし（まだ読了していない）

**スキルへの付与：**
- DBスキル：+30exp
- 設計スキル：+30exp
