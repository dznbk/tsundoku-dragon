# 画面設計

## 概要

各画面の目的と主要な要素を定義する。
MVPではシンプルな構成とし、必要に応じて拡張する。

---

## 画面一覧

| 画面名     | 目的                                     |
| ---------- | ---------------------------------------- |
| ログイン   | 認証してアプリにアクセスする             |
| ホーム     | 現在の状況を把握し、次に何をするか決める |
| 本の登録   | 新しい積読を登録する                     |
| 本の詳細   | 特定の本の情報と戦闘履歴を確認する       |
| 戦闘       | 読書の進捗を記録し、達成感を得る         |
| スキル一覧 | 自分の成長を確認する                     |

---

## 各画面の詳細

### 1. ログイン画面

**目的：** 認証してアプリにアクセスする

**要素：**

- アプリタイトル・ロゴ
- Google認証ボタン
- Twitter認証ボタン

**備考：**

- Firebase Authを使用
- 未認証時はこの画面にリダイレクト

---

### 2. ホーム画面（ダッシュボード）

**目的：** 現在の状況を把握し、次に何をするか決める

ユーザーが「今日はどの本を読もうかな」「どれくらい進んでるかな」を確認する場所。

**要素：**

#### ステータス表示（簡易）

- ユーザー名
- 総討伐数
- 総読了ページ数
- 上位3スキル（レベル表示）

#### 本の一覧

- デフォルト：戦闘中（reading）の本のみ表示
- トグル：「討伐済みも表示する」で completed も表示

#### 本カードの内容

- 書影（ISBNから取得、なければデフォルト画像）
- タイトル
- 進捗バー（currentPage / totalPages）
- ステータスバッジ（戦闘中 / 討伐済み）
- スキルタグ

#### アクション

- 本カードタップ → 本の詳細へ
- 新規登録ボタン → 本の登録へ
- スキル一覧へのリンク

---

### 3. 本の登録画面

**目的：** 新しい積読を登録する

買った本・読みたい本を「敵」として登録し、戦いの準備をする。

**要素：**

#### 入力項目

- タイトル（必須）
- ISBN（任意）
- 総ページ数（必須）
- スキル選択（複数可）
  - グローバルスキルから選択
  - ユーザー独自スキルから選択
  - 新規スキルを自由入力で追加

#### 書影プレビュー

- ISBN入力後、自動で書影を取得・表示
- 取得できない場合はデフォルト画像

#### アクション

- 登録ボタン → ホームへ戻る
- キャンセル → ホームへ戻る

---

### 4. 本の詳細画面

**目的：** 特定の本の情報と戦闘履歴を確認する

この本とどれだけ戦ってきたか、何を学んだかを振り返る。

**要素：**

#### 本の情報

- 書影
- タイトル
- 総ページ数
- 現在の進捗（currentPage / totalPages）
- ステータス（戦闘中 / 討伐済み）
- スキルタグ
- 周回数（2周目以降のみ表示）

#### 戦闘ログ一覧

- 日時
- 読んだページ数
- メモ（あれば）
- **表示形式：** シンプルリスト（1行に日時・ページ数・メモ）
- **表示件数：** 最新20件、ページネーションで過去ログを辿れる

#### アクション

- 戦闘ボタン → 戦闘画面へ
- 再戦ボタン（討伐済みの場合）→ 即時実行、進捗リセット、周回数+1（ログは保持）
- 編集ボタン → 本の情報を編集
- 削除ボタン → ソフトデリート（archived状態に変更）

#### 編集可能項目

| 項目       | 編集 | 備考                                           |
| ---------- | ---- | ---------------------------------------------- |
| タイトル   | ○    |                                                |
| 総ページ数 | ○    |                                                |
| スキル     | ○    | 追加・削除可能                                 |
| ISBN       | ×    | 本の識別子なので変更不可。別のISBNなら新規登録 |
| 現在ページ | ×    | 戦闘（読書記録）で更新                         |

---

### 5. 戦闘画面

**目的：** 読書の進捗を記録し、達成感を得る

RPGの戦闘シーンのように、読書の成果を「攻撃」として可視化する。
数字が減っていく気持ちよさを提供。

**要素：**

#### 敵（ドラゴン）表示

- 敵画像
- 本のタイトル
- HP表示（残りページ / 総ページ）
- HPバー

#### 入力

- 読んだページ数
- メモ（任意）

#### 戦闘演出（ドラクエ風）

- メッセージウィンドウ
- 「あなたの攻撃！」
- 「○○ に △△ のダメージ！」
- HPバーが減るアニメーション

#### 討伐時

- 「○○ を倒した！」
- 獲得経験値の表示（ボーナス込み）
- レベルアップ時は通知

#### アクション

- 攻撃ボタン → 戦闘演出 → 結果反映
- 戻るボタン → 本の詳細へ

---

### 6. スキル一覧画面

**目的：** 自分の成長を確認する

どのスキルがどれだけ成長したかを俯瞰し、達成感を得る。

**要素：**

#### スキルリスト

- スキル名
- 現在レベル
- 経験値バー（次のレベルまでの進捗）
- 累計経験値

#### ソート

- レベル順（デフォルト）
- 名前順
- 最近更新順

#### フィルタ（将来拡張）

- MVP時点では不要

---

## 画面遷移図

```
[ログイン]
    ↓ 認証成功
[ホーム] ←←←←←←←←←←←←←←←←←←←←←←←←
    ├→ [本の登録] → 登録完了 →↑
    ├→ [本の詳細] ←←←←←←←←←←|
    |       ├→ [戦闘] → 戦闘完了 →↑
    |       └→ 編集/削除 →↑
    └→ [スキル一覧] →↑
```

---

## 設計方針

### シンプルさ優先

- MVPでは必要最小限の機能に絞る
- 1画面1目的を意識

### 達成感の可視化

- 数値の変化を見せる（HP減少、経験値増加）
- プログレスバーで進捗を視覚化
- 討伐時の演出で達成感を強調

### 導線の明確さ

- ホームを起点に、やりたいことにすぐアクセス
- 戦闘後は自然にホームに戻る流れ
