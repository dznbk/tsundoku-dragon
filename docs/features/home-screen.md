# ホーム画面（本一覧）

## 概要

登録した本を一覧表示し、ユーザーの現在の状況を把握できる画面。
「今日はどの本を読もうかな」「どれくらい進んでるかな」を確認する起点となる。

## 画面要素

### 1. ステータス表示（簡易）

| 項目           | 説明                                 |
| -------------- | ------------------------------------ |
| ユーザー名     | Firebase Authから取得                |
| 総討伐数       | status=completed の本の数            |
| 総読了ページ数 | 全本のcurrentPageの合計              |
| 上位3スキル    | レベル順（同レベルなら累計経験値順） |

### 2. 本の一覧

- **レイアウト**: グリッド表示（2列）
- **デフォルト**: 戦闘中（reading）の本のみ表示
- **トグル**: 「討伐済みも表示する」で completed も表示

### 3. 本カード

| 要素             | 説明                                          |
| ---------------- | --------------------------------------------- |
| 書影             | ISBNからNDL APIで取得、なければデフォルト画像 |
| タイトル         | 本のタイトル                                  |
| 進捗バー         | currentPage / totalPages                      |
| ステータスバッジ | 戦闘中 / 討伐済み                             |

※スキルタグはカードに含めず、詳細画面で表示

### 4. アクション

| アクション       | 遷移先                               |
| ---------------- | ------------------------------------ |
| 本カードタップ   | 本の詳細画面（未実装のため後回し）   |
| 新規登録ボタン   | 本の登録画面                         |
| スキル一覧リンク | スキル一覧画面（未実装のため後回し） |

## 技術仕様

### 書影URL

```
https://ndlsearch.ndl.go.jp/thumbnail/{ISBN}.jpg
```

ISBNがない場合はデフォルト画像を表示。

### API

| エンドポイント | 用途                               |
| -------------- | ---------------------------------- |
| GET /books     | 本一覧取得                         |
| GET /skills    | スキル一覧取得（ステータス表示用） |

### 状態管理

Jotaiで管理：

- 本一覧
- 討伐済み表示フラグ
- スキル一覧

## 実装順序

1. 本一覧の取得・表示（グリッドレイアウト）
2. 本カードコンポーネント（書影・タイトル・進捗バー・バッジ）
3. 討伐済み表示トグル
4. ステータス表示（簡易）
5. 新規登録ボタン・遷移

## 未実装（後回し）

- 本カードタップ → 詳細画面遷移（詳細画面実装後）
- スキル一覧リンク → スキル一覧遷移（スキル一覧実装後）

## 決定事項

| 決定                         | 理由                                 |
| ---------------------------- | ------------------------------------ |
| グリッド表示（2列）          | 書影が並ぶ「本棚」感、スマホでも自然 |
| 上位3スキルのソート          | レベル順、同レベルなら累計経験値順   |
| スキルタグはカードに含めない | 情報量を絞り視認性向上               |
| トグルで討伐済み切替         | デフォルトは戦闘中のみでシンプルに   |
